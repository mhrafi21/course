define("email-confirmation/components/email-confirmation-modal",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/object","@ember/service","@ember/debug","@glimmer/component","artdeco-modal/components/artdeco-modal","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/eq","hue-web-icons/components/icon","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","artdeco-button/components/artdeco-button"],(function(e,n,i,t,o,a,l,r,m,d,s,c,u,f,p,_,g,h,b,y,v,k){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var E,D,O,T,C
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"OO2aCf5n",block:'[[[1,"\\n"],[1,"\\n"],[1,"    "],[8,[32,0],[[4,[32,1],[[30,0,["onDidInsert"]],[30,1],[30,2,["widgetTrackingToken"]]],null],[4,[32,2],[[30,0,["onDidInsert"]],[30,1],[30,2,["widgetTrackingToken"]]],null]],[["@isOpen","@modalClasses","@size","@dismissModal"],[[30,1],"text-align-center","medium",[30,0,["dismiss"]]]],[["default"],[[[[1,"\\n      "],[8,[30,3,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"email-confirmation-header"],[12],[1,"\\n"],[41,[30,2,["isBouncedEmail"]],[[[1,"            "],[1,[28,[32,3],["i18n_email_confirmation_modal_not_reachable_new","email-confirmation/components/email-confirmation-modal"],[["emailAddress"],[[30,2,["emailAddress"]]]]]],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["_pillar"]],"FEED"],null],[[[1,"              "],[1,[28,[32,3],["i18n_email_confirmation_modal_feed_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["_pillar"]],"NETWORK"],null],[[[1,"              "],[1,[28,[32,3],["i18n_email_confirmation_modal_network_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["_pillar"]],"MESSAGING"],null],[[[1,"              "],[1,[28,[32,3],["i18n_email_confirmation_modal_messaging_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[41,[28,[32,4],[[30,0,["_pillar"]],"SLIDESHARE_MIGRATE"],null],[[[1,"              "],[1,[28,[32,3],["i18n_email_confirmation_modal_slideshare_migration_confirm_header","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n            "]],[]],null]],[]]]],[]]]],[]]]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,3,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,0,["errorEncountered"]],[[[1,"            "],[1,[28,[32,3],["i18n_email_confirmation_error","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n"]],[]],[[[1,"            "],[1,[52,[30,2,["isBouncedEmail"]],[28,[32,3],["i18n_email_confirmation_modal_update_your_email2","email-confirmation/components/email-confirmation-modal"],[["emailAddress"],[[30,2,["emailAddress"]]]]],[28,[32,3],["i18n_email_confirmation_modal_confirm_body_new","email-confirmation/components/email-confirmation-modal"],[["emailAddress"],[[30,2,["emailAddress"]]]]]]],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[30,3,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,"section"],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,0,["emailSent"]],[[[1,"            "],[10,2],[14,0,"t-14 t-black--light t-normal relative"],[12],[1,"\\n              "],[10,1],[14,0,"email-confirmation-modal__success-icon"],[12],[1,"\\n                "],[8,[32,5],null,[["@type","@size","@name"],["system","medium","signal-success"]],null],[1,"\\n              "],[13],[1,"\\n              "],[1,[28,[32,3],["i18n_email_confirmation_modal_email_sent","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n              "],[1,[28,[32,3],["i18n_email_confirmation_modal_check_inbox","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[30,2,["isBouncedEmail"]],[[[41,[30,4],[[[1,"              "],[11,3],[16,6,[29,[[30,0,["emailSettingsLink"]]]]],[24,0,"mt2 link-without-visited-state"],[4,[32,6],["click",[30,0,["_updateEmailLink"]]],null],[4,[32,7],["update_email_button"],null],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_email_confirmation_modal_update_email","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[1,"              "],[11,"button"],[24,0,"artdeco-button artdeco-button--primary mt2"],[24,4,"button"],[4,[32,6],["click",[30,5]],null],[4,[32,7],["update_email_button"],null],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_email_confirmation_modal_update_email","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n              "],[13],[1,"\\n"]],[]]]],[]],[[[1,"            "],[1,[28,[32,3],["i18n_email_confirmation_modal_didnt_get_it","email-confirmation/components/email-confirmation-modal"],null]],[1,"\\n            "],[8,[32,8],[[4,[32,6],["click",[30,0,["_resendConfirmationEmail"]]],null],[4,[32,7],["resendEmailButton"],null]],[["@controlType","@size","@type","@text"],["button",1,"tertiary",[28,[32,3],["i18n_email_confirmation_modal_resend_email","email-confirmation/components/email-confirmation-modal"],null]]],null],[1,"\\n          "]],[]]]],[]]],[1,"        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[3]]]]],[1,"\\n  "]],["@isOpen","@modalContext","modal","@linkToUpdateEmail","@updateEmail"],false,["if"]]',moduleName:"email-confirmation/components/email-confirmation-modal.gjs",scope:()=>[f.default,p.default,_.default,g.default,h.default,b.default,y.on,v.default,k.default],isStrictMode:!0}),(E=(0,s.inject)("lego@tracking"),D=class extends u.default{constructor(){super(...arguments);(0,n.default)(this,"legoTracking",O,this);(0,n.default)(this,"emailSent",T,this);(0,n.default)(this,"errorEncountered",C,this);(0,i.default)(this,"shouldFireLegoTracking",!0);(0,i.default)(this,"emailSettingsLink","/psettings/email")}get _pillar(){return this.args.pillar||""}onDidInsert(e,n){let[i,t]=n
if(i&&this.shouldFireLegoTracking){const{legoTracking:e}=this
e.sendLegoImpression(t,e.LEGO_IMPRESSION_VISIBILITY_SHOW)
this.shouldFireLegoTracking=!1}}_resendConfirmationEmail(){const e=this.args.resendConfirmationEmail()
this.errorEncountered=!1
e.then((()=>{this.isDestroying||(this.emailSent=!0)})).catch((()=>{this.isDestroying||(this.errorEncountered=!0)}))}dismiss(){var e
const{legoTracking:n}=this
n.sendLegoAction(null===(e=this.args.modalContext)||void 0===e?void 0:e.widgetTrackingToken,n.LEGO_ACTION_DISMISS,1)
this.args.onDismiss()}_updateEmailLink(){this.args.updateEmailLink&&this.args.updateEmailLink()}},O=(0,t.default)(D.prototype,"legoTracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,t.default)(D.prototype,"emailSent",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,t.default)(D.prototype,"errorEncountered",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,t.default)(D.prototype,"onDidInsert",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"onDidInsert"),D.prototype),(0,t.default)(D.prototype,"_resendConfirmationEmail",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"_resendConfirmationEmail"),D.prototype),(0,t.default)(D.prototype,"dismiss",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"dismiss"),D.prototype),(0,t.default)(D.prototype,"_updateEmailLink",[d.action],Object.getOwnPropertyDescriptor(D.prototype,"_updateEmailLink"),D.prototype),D))}))
define("email-confirmation/template-registry",[],(function(){}))
define("email-confirmation/utils/email-confirmation-helpers",["exports","voyager-web/config/environment","global-utils/utils/is-browser","rsvp","global-utils/utils/url","graphql-queries/queries/job-posting-shared/page-content-by-page-key-and-slot-id-finder.graphql"],(function(e,n,i,t,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MODAL_CONTEXT_PROP=void 0
e.ModalConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
this[m]=n
this[d]=e}
e.getConfirmationModalData=function(e,o){let m=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
if(!i.default)return(0,t.resolve)(null)
const d=function(e,i){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={slotId:"modal",pageKey:"voyager-email-confirmation"}
t||(o={...o,q:"pageKeyAndSlotId",recipe:"com.linkedin.voyager.dash.deco.segments.PageContent"})
const l=t?i.executeQuery(a.default,o).then((e=>e.data.legoDashPageContentsByPageKeyAndSlotId)):e.queryURL(`/${n.default.namespace}/voyagerLegoDashPageContents`,{params:o})
return l.then((e=>{var n,i
let o
if(t){var a,l
const{slots:n}=(null===(a=e.elements)||void 0===a?void 0:a[0])||{}
o=null==n||null===(l=n.find((e=>"modal"===e.key)))||void 0===l?void 0:l.value}else{var r,m
o=null===(r=((null===(m=e.elements)||void 0===m?void 0:m[0])||{}).slots)||void 0===r?void 0:r.modal}if(!o)return null
const d=null===(n=o.groups)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.widgets
return d?d.find((e=>"voyager_takeover_confirm_email"===e.widgetKey)):null}))}(e,o,m),c=function(e){const n=e.queryURL(...s(!0,"EMAIL")).then((e=>{var n
return null===(n=e.elements)||void 0===n?void 0:n[0]}))
return n.then((e=>{var n,i
if(!e)return null
const{state:t}=e,o=null===(n=e.handleDetailUnion)||void 0===n||null===(i=n.emailAddress)||void 0===i?void 0:i.emailAddress
return{bounced:t===l,confirmed:t===r,emailAddress:o}}))}(e)
return(0,t.hash)({legoWidgetData:d,handleStatusData:c}).then((e=>{const n=e.legoWidgetData,i=e.handleStatusData
return n&&i?{confirmEmailModalWidgetData:n,isEmailConfirmed:i.confirmed,isBouncedEmail:i.bounced,emailAddress:i.emailAddress,widgetTrackingToken:n.trackingToken}:null}))}
e.getMemberHandlesRequest=s
e.resendHandleConfirmationRequest=function(e){return[(0,o.addQueryParam)(`/${n.default.namespace}/voyagerOnboardingDashHandleConfirmation`,"action","sendConfirmationMessageEmail"),"POST",{data:{emailAddress:e}}]}
const l="BOUNCED",r="CONFIRMED",m="unconfirmedEmailModalIsOpen",d=e.MODAL_CONTEXT_PROP="unconfirmedEmailModalContext"
function s(){const e={primary:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EMAIL",q:"criteria"}
return[`/${n.default.namespace}/voyagerOnboardingDashMemberHandles`,{params:e}]}}))

//# sourceMappingURL=engine-vendor.map